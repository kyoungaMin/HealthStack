        {/* Existing Tab Contents */}
        {activeTab === 'map' && !showResult && (
          <div className="space-y-4 animate-in">
            <div className="health-card p-6 bg-blue-50/30 border-blue-100">
              <h2 className="text-xl font-bold text-blue-800 mb-2">📍 내 주변 건강 찾기 팁</h2>
              <p className="text-sm text-blue-600 mb-6">현재 위치를 기반으로 증상에 좋은 식당과 약국을 찾아드릴게요.</p>
              <button
                onClick={async () => {
                  setLoading(true);
                  try {
                    const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
                    const response = await ai.models.generateContent({
                      model: "gemini-2.5-flash",
                      contents: "내 주변의 건강한 식당이나 죽집, 혹은 약국이 어디에 있니?",
                      config: {
                        tools: [{ googleMaps: {} }],
                        toolConfig: {
                          retrievalConfig: { latLng: userLocation || { latitude: 37.5665, longitude: 126.9780 } }
                        }
                      },
                    });
                    setAnalysisResult(response.text);
                    setShowResult(true);
                  } catch (e) { } finally { setLoading(false); }
                }}
                className="w-full bg-blue-600 text-white font-bold py-4 rounded-2xl shadow-md active:scale-[0.98] transition-all"
              >
                {loading ? '지도를 펼치는 중...' : '주변 추천지 검색'}
              </button>
            </div>
          </div>
        )}
