ğŸ“˜ Health Stack v3
ì²˜ë°©ì „ ì¤‘ì‹¬ ì•½-ê·¼ê±°-ë™ì˜ë³´ê° ì—°ê²° í”Œë«í¼ + ë™ë„¤ ì•½êµ­ + ê±´ê°• ë¦¬í¬íŠ¸

> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-22

---

1. í”„ë¡œì íŠ¸ ê°œìš”
1.1 ì„œë¹„ìŠ¤ ë¹„ì „

â€œë‚´ê°€ ë¨¹ëŠ” ì•½ì„ ì´í•´í•˜ë©´, ë‚´ ì‚¶ì˜ ì„ íƒì´ ë‹¬ë¼ì§„ë‹¤.â€

Health Stack v2ëŠ” ì²˜ë°©ì „ ì¤‘ì‹¬ ë¶„ì„ í”Œë«í¼ì´ë‹¤.
ì‚¬ìš©ìê°€ ì²˜ë°©ì „ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë©´:


ì•½ ì •ë³´ë¥¼ ë¶„ì„í•˜ê³ 

ì‹ì•½ì²˜ ë° PubMed ê·¼ê±°ë¥¼ ì œê³µí•˜ë©°

íš¨ëŠ¥Â·ë¶€ì‘ìš© ì¦ìƒì„ í‘œì¤€í™”í•˜ê³ 

í•´ë‹¹ ì¦ìƒì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì˜ë³´ê° ì‹ì¬ë£Œ ë° ì²˜ë°© ì •ë³´ë¥¼ ì—°ê²°

ìŒì‹ ë° ìƒí™œ ê°€ì´ë“œë¥¼ ì œì‹œí•œë‹¤.

2. ë¬¸ì œ ì •ì˜
2.1 í˜„ì¬ ì‹œì¥ì˜ ë¬¸ì œ

ëŒ€ë¶€ë¶„ì˜ í™˜ìëŠ” ìì‹ ì´ ë³µìš©í•˜ëŠ” ì•½ì˜ ì •í™•í•œ ì˜ë¯¸ë¥¼ ëª¨ë¥¸ë‹¤

ì•½ ì •ë³´ ì•±ì€ ë‹¨ìˆœ ì„¤ëª… ìˆ˜ì¤€

ì „í†µ ì˜í•™ê³¼ í˜„ëŒ€ ì˜í•™ì€ ë‹¨ì ˆ

ì•½ ë³µìš© í›„ ìƒí™œ ê´€ë¦¬ ê°€ì´ë“œ ë¶€ì¬

3. í•´ê²° ì „ëµ
3.1 í•µì‹¬ êµ¬ì¡°
ì²˜ë°©ì „
   â†“
ì•½ ì •ê·œí™”
   â†“
ì‹ì•½ì²˜ ê·¼ê±°
   â†“
PubMed ê·¼ê±°
   â†“
íš¨ëŠ¥/ë¶€ì‘ìš© â†’ ì¦ìƒ í† í°í™”
   â†“
ë™ì˜ë³´ê° ë§¤í•‘
   â†“
ì‹ì¬ë£Œ/ìŒì‹/ìƒí™œ ê°€ì´ë“œ

4. ë°ì´í„° ì•„í‚¤í…ì²˜
4.1 ë°ì´í„° ì†ŒìŠ¤
ğŸ‡°ğŸ‡· ì‹ì•½ì²˜ (1ì°¨ ê·¼ê±°)

íš¨ëŠ¥

ìš©ë²•

ê¸ˆê¸°

ì´ìƒë°˜ì‘

ì£¼ì˜ì‚¬í•­

ì‹ ë¢°ë„ Level A

ğŸ”¬ PubMed (2ì°¨ ê·¼ê±°)

ì„ìƒ ì—°êµ¬

ê¸°ì „ ì„¤ëª…

ë¶€ì‘ìš© ë³´ê³ 

ë©”íƒ€ ë¶„ì„

ì‹ ë¢°ë„ Level A

ğŸ“œ ë™ì˜ë³´ê°

ì¦(è­‰)

ì‹ì¬ë£Œ

ì²˜ë°©

ìŒì‹ ê¸°ë¡

ğŸŒ ê²€ìƒ‰ API (Fallback)

ì¡°ê±´:

ì‹ì•½ì²˜ ì—†ìŒ

PubMed ì—†ìŒ

ë™ì˜ë³´ê° ë§¤í•‘ ì—†ìŒ

ì²˜ë¦¬:

2ê°œ ì´ìƒ ì¶œì²˜ êµì°¨ ê²€ì¦

ì‹ ë¢°ë„ í‘œì‹œ (A/B/C)

5. í•µì‹¬ ê¸°ìˆ  ì„¤ê³„
5.1 ì•½ ì •ê·œí™” ì‹œìŠ¤í…œ

OCR â†’ ì•½ëª… ì¶”ì¶œ

ì„±ë¶„ ë§¤ì¹­

ë™ì˜ì–´ ì‚¬ì „ ë§¤í•‘

catalog_drugs ê¸°ë°˜ ì •ê·œí™”

5.2 ê·¼ê±° í†µí•© ë ˆì´ì–´
ë ˆì´ì–´	ì„¤ëª…
drug_label_sources	ì‹ì•½ì²˜ ê¸°ë°˜ ë¼ë²¨ ì •ë³´
drug_pubmed_links	PubMed ê·¼ê±° ì—°ê²°
drug_symptom_tokens	íš¨ëŠ¥/ë¶€ì‘ìš© í† í°
token_tkm_map	í† í° â†” ë™ì˜ë³´ê° ì—°ê²°
5.3 ì¦ìƒ í† í° ë¸Œë¦¿ì§€

ì˜ˆì‹œ:

ì•½	ë¶€ì‘ìš©	í† í°	ë™ì˜ë³´ê° ì¦
í˜ˆì••ì•½	ì–´ì§€ëŸ¬ì›€	dizziness	í˜„í›ˆ
í•­ìƒì œ	ì„¤ì‚¬	diarrhea	ì„¤ì‚¬
ìŠ¤í…Œë¡œì´ë“œ	ë¶€ì¢…	edema	ìˆ˜ì¢…
6. ERD êµ¬ì¡° ìš”ì•½
í•µì‹¬ ì—”í‹°í‹°

user_prescriptions

user_prescription_drugs

catalog_drugs

drug_label_sources

drug_pubmed_links

symptom_tokens

drug_symptom_tokens

token_tkm_map

tkm_symptom_master

foods_master

7. ì‚¬ìš©ì ê²½í—˜ ì„¤ê³„
Section 1 â€” ì²˜ë°©ì „ ìš”ì•½

ì•½ ëª©ë¡

ì¤‘ë³µ ì„±ë¶„ ê²½ê³ 

ìƒí˜¸ì‘ìš© ê°€ëŠ¥ì„±

Section 2 â€” ì•½ ì´í•´

íš¨ëŠ¥ (ì‹ì•½ì²˜)

ì£¼ì˜ì‚¬í•­

ë¶€ì‘ìš©

Section 3 â€” í•™ìˆ  ê·¼ê±°

PubMed ìš”ì•½ 1~3ê°œ

Section 4 â€” ìƒí™œ ê°€ì´ë“œ

ì£¼ì˜ ì¦ìƒ ì•ˆë‚´

ì‹ìŠµê´€ ê¶Œì¥

Section 5 â€” ë™ì˜ë³´ê° ì¶”ì²œ

ì‹ì¬ë£Œ 3~5ê°œ

ê°„ë‹¨ ì´ìœ 

ì„­ì·¨ ì£¼ì˜

8. ì°¨ë³„ì„±
ê¸°ì¡´ ì•½ ì•±	Health Stack v2
ë‹¨ìˆœ ì•½ ì„¤ëª…	ì•½ â†’ ì¦ìƒ â†’ ìŒì‹ ì—°ê²°
ê·¼ê±° ë¶„ë¦¬	ì‹ì•½ì²˜ + PubMed í†µí•©
ì „í†µì˜í•™ ë¯¸ì—°ê²°	ë™ì˜ë³´ê° RAG ì—°ê²°
ìƒí™œ ê°€ì´ë“œ ë¶€ì¬	ìŒì‹/ìƒí™œ ì¶”ì²œ ì œê³µ
9. MVP ë²”ìœ„
í¬í•¨

ì²˜ë°©ì „ OCR

ì•½ ì •ê·œí™”

ì‹ì•½ì²˜ ë¼ë²¨ ë§¤í•‘

PubMed ìš”ì•½

ë™ì˜ë³´ê° ì‹ì¬ë£Œ ì¶”ì²œ

ê²€ìƒ‰ fallback

ì œì™¸ (2ë‹¨ê³„)

ìŒì‹ì  ìœ„ì¹˜ ì¶”ì²œ

êµ¬ë… ëª¨ë¸

ì¥ê¸° ê±´ê°• ë¦¬í¬íŠ¸

10. ìˆ˜ìµ ëª¨ë¸

ì›” êµ¬ë… (ê°€ì¡± ì•½ ê´€ë¦¬)

PDF ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ

ë³‘ì› API ì—°ë™

ê±´ê°• ì½˜í…ì¸  ì œíœ´

í”„ë¦¬ë¯¸ì—„ ê·¼ê±° ë¶„ì„

11. í™•ì¥ ì „ëµ
11.1 ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ ì í•©ì„±

ê³µê³µë°ì´í„° í™œìš©

ì „í†µì˜í•™ ë””ì§€í„¸í™”

AI ê¸°ë°˜ RAG êµ¬ì¡°

ì‚¬íšŒì  ê°€ì¹˜(ì•½ ì´í•´ë„ í–¥ìƒ)

11.2 ê¸°ìˆ  í™•ì¥

ATC ì½”ë“œ ê¸°ë°˜ ê¸€ë¡œë²Œ í™•ì¥

RxNorm ì—°ê³„

FDA / EMA ë°ì´í„° ì¶”ê°€

ë‹¤êµ­ì–´ ì§€ì›

12. ì•ˆì „ ì •ì±…

ì˜ë£Œ ì§„ë‹¨/ì²˜ë°© ë³€ê²½ ê¶Œê³  ê¸ˆì§€

â€œì°¸ê³  ì •ë³´â€ ëª…ì‹œ

ì˜ì‚¬ ìƒë‹´ ê¶Œì¥ ë¬¸êµ¬ ê³ ì •

ì¶œì²˜ ëª…í™•í™”

13. í–¥í›„ ë¡œë“œë§µ
1ë‹¨ê³„

ì²˜ë°©ì „ ì¤‘ì‹¬ MVP ì¶œì‹œ

2ë‹¨ê³„

ê°€ì¡± ì•½ ê´€ë¦¬

ëˆ„ì  ë¦¬í¬íŠ¸ ê¸°ëŠ¥

3ë‹¨ê³„

AI ë§ì¶¤ ì‹ë‹¨ ì¶”ì²œ

ë³‘ì› í˜‘ë ¥ API

14. ì „ëµì  ì˜ë¯¸

ì´ êµ¬ì¡°ëŠ”:

ê¸°ìˆ ì„± ìˆìŒ (NLP + RAG + ê·¼ê±° í†µí•©)

ê³µê³µë°ì´í„° ê¸°ë°˜ ì‹ ë¢°ì„±

ì „í†µì˜í•™ ë””ì§€í„¸ ìì‚°í™”

ì‚¬ì—…í™” ê°€ëŠ¥ì„± ë†’ìŒ

ê²°ë¡ 

Health Stack v3ëŠ”
â€œì•½ì„ ì´í•´í•˜ëŠ” í”Œë«í¼â€ì—ì„œ
â€œì•½ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¶ì„ ê´€ë¦¬í•˜ëŠ” í”Œë«í¼â€ìœ¼ë¡œ í™•ì¥í•˜ëŠ” êµ¬ì¡°ë‹¤.

---

## 15. v3 ì‹ ê·œ ê¸°ëŠ¥ (2026-02-22 ì¶”ê°€)

### 15.1 ë™ë„¤ ì•½êµ­ íƒ­ (Map Tab)

**ê¸°ëŠ¥ ê°œìš”**
- í˜„ì¬ ìœ„ì¹˜(Geolocation API) ê¸°ë°˜ ë°˜ê²½ 2km ì´ë‚´ ì•½êµ­ ê²€ìƒ‰
- Kakao Maps JS SDKë¡œ ì§€ë„ ë Œë”ë§ + ë²ˆí˜¸ ë§ˆì»¤ í‘œì‹œ
- ì•½êµ­ ëª©ë¡ (ì´ë¦„ / ì£¼ì†Œ / ê±°ë¦¬ / ì „í™” / ì˜ì—…ì‹œê°„ ë§í¬)

**ê¸°ìˆ  êµ¬í˜„**
- í”„ë¡ íŠ¸: Kakao Maps CustomOverlay (DOM ì—˜ë¦¬ë¨¼íŠ¸ ê¸°ë°˜)
- ë°±ì—”ë“œ: `GET /api/v1/pharmacies/nearby?lat={lat}&lng={lng}&radius={radius}`
- ê²€ìƒ‰ API: ë„¤ì´ë²„ ì§€ì—­ ê²€ìƒ‰ API (`/v1/search/local.json`)
- ì˜ì—…ì‹œê°„: `place_url` â†’ Kakao Maps ìƒì„¸ í˜ì´ì§€ ë”¥ë§í¬

**ë°ì´í„° íë¦„**
```
ë¸Œë¼ìš°ì € GPS â†’ ë°±ì—”ë“œ /pharmacies/nearby
  â†’ ë„¤ì´ë²„ ì§€ì—­ê²€ìƒ‰ API
  â†’ ì•½êµ­ ëª©ë¡ (name, address, phone, lat, lng, distance, place_url)
  â†’ Kakao Maps ë§ˆì»¤ ë Œë”ë§
```

---

### 15.2 ê±´ê°• ë¦¬í¬íŠ¸ íƒ­ (Report Tab)

**ê¸°ëŠ¥ ê°œìš”**
- í˜„ì¬ ì„¸ì…˜ì—ì„œ ëˆ„ì ëœ ì²˜ë°© ì´ë ¥(`savedStacks`)ì„ ë¶„ì„í•˜ì—¬ 6ì„¹ì…˜ ë¦¬í¬íŠ¸ ìƒì„±
- ì¶”ê°€ DB ì €ì¥ ì—†ì´ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì§‘ê³„

**6ê°œ ì„¹ì…˜ êµ¬ì„±**

| ì„¹ì…˜ | ë‚´ìš© |
|------|------|
| í•œëˆˆì— ë³´ê¸° | ì´ ì²˜ë°© íšŸìˆ˜ / ê³ ìœ  ì•½ë¬¼ ìˆ˜ / ì¦ìƒ ìˆ˜ / ì‹ì¬ë£Œ ìˆ˜ |
| TOP 5 ì•½ë¬¼ | ì „ì²´ ì²˜ë°©ì—ì„œ ê°€ì¥ ë§ì´ ë“±ì¥í•œ ì•½ë¬¼ ìˆœìœ„ + ë¹ˆë„ |
| ì²˜ë°© íƒ€ì„ë¼ì¸ | ë‚ ì§œìˆœ ì²˜ë°© ì¹´ë“œ (ì•½ë¬¼ ëª©ë¡ + ì¶”ë¡  ì¦ìƒ) |
| ì¦ìƒ íŒ¨í„´ | ì¶”ë¡ ëœ ì¦ìƒ ë¹ˆë„ íƒœê·¸ í´ë¼ìš°ë“œ |
| ìì£¼ ë“±ì¥í•œ ì‹ì¬ë£Œ | ë™ì˜ë³´ê° ì¶”ì²œ ì‹ì¬ë£Œ ë¹ˆë„ ì§‘ê³„ |
| ë ˆì‹œí”¼ ì¶”ì²œ | ë“±ì¥ ì‹ì¬ë£Œ ê¸°ë°˜ ë ˆì‹œí”¼ ì¹´ë“œ |

**êµ¬í˜„ ë°©ì‹**
```tsx
// IIFE íŒ¨í„´ â€” ì¶”ê°€ state ì—†ì´ ì²˜ë°© ì´ë ¥ ì¸ë¼ì¸ ì§‘ê³„
{activeTab === 'report' && (() => {
  const drugFreq: Record<string, number> = {};
  savedStacks.forEach(s => s.drugList.forEach(d => {
    drugFreq[d] = (drugFreq[d] || 0) + 1;
  }));
  return <ReportView topDrugs={...} />;
})()}
```

---

### 15.3 í˜„ì¬ ì•± íƒ­ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Health Stack v3                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ ì²˜ë°©ì „ ë¶„ì„  â”‚ OCR â†’ 5ì„¹ì…˜ ë¦¬í¬íŠ¸  â”‚
â”‚  ğŸ¥ ë™ë„¤ ì•½êµ­   â”‚ Kakao ì§€ë„ + ì•½êµ­   â”‚
â”‚  ğŸ“Š ê±´ê°• ë¦¬í¬íŠ¸ â”‚ ì²˜ë°© ì´ë ¥ ë¶„ì„      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 15.4 ê¸°ìˆ  ìŠ¤íƒ (í”„ë¡ íŠ¸ì—”ë“œ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| Framework | Vite 7 + React 19 + TypeScript |
| CSS | Tailwind v4 (PostCSS, `@import â€œtailwindcssâ€`) |
| Maps | Kakao Maps JS SDK |
| AI TTS | Google GenAI (`@google/genai`) |
| Port | 3002 |